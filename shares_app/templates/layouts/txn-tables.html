{% extends 'base.html' %}

{% block content %}
    <!-- Layout wrapper -->
    <div class="layout-wrapper layout-content-navbar">
      <div class="layout-container">
        <!-- Menu -->

        {% include 'layouts/sideNav.html' %}
        <!-- / Menu -->

        <!-- Layout container -->
        <div class="layout-page">
          <!-- Navbar -->

          {% include 'inc/navbar.html' %}

          <!-- / Navbar -->

          <!-- Content wrapper -->
          <div class="content-wrapper">
            <!-- Content -->

            <div class="container-xxl flex-grow-1 container-p-y">
              <h4 class="fw-bold py-3 mb-4"> Transaction History</h4>

              <!-- Basic Bootstrap Table -->
              <div class="card px-4 py-4">
                <div class="table-responsive text-nowrap">
                  <table id="txnTable" class="table">
                    <thead>
                      <tr>
                        <th>Receiver</th>
                        <th>Amount</th>
                        <th>Date</th>
                        <th>Status</th>
                        <th>Reference</th>
                        <th>Batch ID</th>
                      </tr>
                    </thead>
                    <tbody class="table-border-bottom-0">
                    {% if txns %}
                        {% for txn in txns %}
                          <tr>
                            <td><i class="fab fa-angular fa-lg text-danger me-3"></i> <strong>{{ txn.receiver}}</strong></td>
                            <td>{{ txn.bundle_amount}}MB</td>
                            <td>{{ txn.transaction_date }}</td>
                            <td>
                                {% if txn.transaction_status == "Completed" %}
                                <span class="badge bg-label-success me-1">Completed</span>
                                {% else %}
                                <span class="badge bg-label-danger me-1">Failed</span>
                                {% endif %}
                            </td>
                            <td>{{ txn.reference }}</td>
                            <td>{{ txn.batch_id }}</td>
                          </tr>
                        {% endfor %}
                    {% else %}
                        <div>
                            <h5 class="mx-auto text-center">No transactions made yet.</h5>
                        </div>
                    {% endif %}
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
              <!--/ Basic Bootstrap Table -->


      {% endblock content %}